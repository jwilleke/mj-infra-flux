apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # Infrastructure - Traefik ingress controller and cert-manager
  # These are in apps/base/ and work properly

  # Shared Infrastructure
  - ./database       # Shared PostgreSQL
  - ./messaging      # Shared Mosquitto MQTT
  - ./monitoring     # Grafana & Prometheus
  - ./shared-resources  # Static file server for icons, logos, and shared assets

  # Authentication & Identity Provider
  - ./authentik

  # Public Applications (Guest Services)
  - ./guest-services

  # Public & Protected Applications
  - ./landingpage

  # Protected Applications
  - ./filebrowser
  - ./teslamate
  - ./jimswiki
  - ./amdwiki
  - ./home-assistant-proxy
  - ./jimsmcp        # MCP server for custom infrastructure features
